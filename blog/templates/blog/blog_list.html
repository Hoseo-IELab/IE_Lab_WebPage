{% extends 'blog/base.html' %}

{% block main_area %}

    {% if user.is_authenticated %}
        {% if user.is_superuser or user.is_staff %}
            <a class="btn btn-info btn-sm float-right" href="/blog/create_post/" role="button">
            <i class="fas fa-pencil"></i>
                &nbsp;&nbsp;게시글 작성</a>
            <br><br>
        {% endif %}
    {% endif %}

    <h2>연구실 게시판</h2>
    <br>
    <table class="table-sm table-hover table-bordered">
    <thead>
    <tr>
        <th style="width: 10%; text-align: center;">번호</th>
        <th style="width: 50%; text-align: center;">제목</th>
        <th style="width: 10%; text-align: center;">작성자</th>
        <th style="width: 20%; text-align: center;">날짜</th>
    </tr>
    </thead>
    <tbody class="table-group-divider">
    {% if post_list.exists %}
        {% for p in post_list %}
            <tr class="{% if forloop.counter %}{% endif %}">
                <td style="text-align:center;">{{ forloop.counter }}</td>
                <td style="text-align:center;"><a href="{{ p.get_absolute_url }}">{{ p.title }}</a></td>
                <td style="text-align:center;">{{ p.author | upper }}</td>
                <td style="text-align:center;">{{ p.created_at }}</td>
            </tr>
            {% endfor %}
    {% else %}
        <h3>아직 게시물이 없습니다!</h3>
        <br>
        <br>
    {% endif %}
            </tbody>
    </table>

    {% if is_paginated %}
    <!-- Pagination -->
    <ul class="pagination justify-content-center my-4">
        {% if page_obj.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">이전</a>
            </li>
        {% else %}
            <li class="page-item disabled">
                <a class="page-link" href="#">이전</a>
            </li>
        {% endif %}

        <h5>&nbsp;{{ page_obj }}&nbsp;</h5>

        {% if page_obj.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.next_page_number }}">다음</a>
            </li>
        {% else %}
            <li class="page-item disabled">
                <a class="page-link" href="#">다음</a>
            </li>
        {% endif %}

    </ul>
    {% endif %}

{% endblock %}